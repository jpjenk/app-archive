<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>PBDB Data Archive</title>
  <!-- UIkit CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-beta.35/css/uikit.min.css" />
	<!-- UIkit JS -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-beta.35/js/uikit.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/uikit/3.0.0-beta.35/js/uikit-icons.min.js"></script>
  <!-- JQuery -->
  <script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-2.2.4.min.js"></script>
</head>

<body>

  <h1 class="uk-heading-line uk-text-center">Data Archives</h1>

  <ul class="uk-list uk-list-striped" id="archiveList">

</body>

<script type="text/javascript">
  $(document).ready(function(){
    $.ajax( {
      url: "https://training.paleobiodb.org/archives/list",
      dataType: "json"
    })
    .done (function (data) {
      for (var rec in data) {
        var item;

        item = "<li><span style='float:left;'>";
        item += "<a href='https://training.paleobiodb.org/classic/app/archive/view?id=";
        item += data[rec]['archive_no'] + "'>";
        item += "Archive " + data[rec]['archive_no'];
        item += "</a>";
        item += ": <b>" + data[rec]['title'] + "</b>";

        if (data[rec]['doi']) {
            item += "[" + data[rec]['doi'] + "]";
        }

        item += "</span><div style='float:right;'>";
        item += "<i> (" + data[rec]['authors'] + ")</i></li>";

        $('#archiveList').append(item);
      }
    });
  })
</script>
   
</html>
